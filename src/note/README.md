# jig-note(1)

## NAME

**jig-note** - create note scaffold with directory and markdown file(s)

## SYNOPSIS

```
jig note <TITLE> [OPTIONS]
jig-note <TITLE> [OPTIONS]
```

## DESCRIPTION

**jig-note** automates the creation of note scaffolding by generating a directory with markdown file(s) containing proper frontmatter. The directory name is created from the slugified title, and each file receives a unique UUID v7 identifier.

The command supports both single-file and multi-language note creation, with flexible template customization through placeholder replacement.

## ARGUMENTS

- **TITLE** - Mandatory title for the note (used for both frontmatter and directory naming)

## OPTIONS

- **-h, --help** - Display help information and exit
- **-l, --lang LANGS** - Comma-separated language list (creates index.LANG.md for each)
- **-t, --template PATH** - Use custom template file instead of default

## TEMPLATE PLACEHOLDERS

Templates support the following placeholders that are automatically replaced:

- **{{id}}** - Replaced with generated UUID v7
- **{{title}}** - Replaced with the provided title
- **{{slug}}** - Replaced with the slugified title

Placeholders are optional. If a placeholder is not present in the template, it is simply ignored (no forced injection).

## DEFAULT TEMPLATE

When no `-t` flag is provided, the following default template is used:

```markdown
---
id: {{id}}
---

# {{title}}
```

## BEHAVIOR

**Directory Creation**: A directory is created using the slugified title. The slug is generated by:
- Converting to lowercase
- Removing non-ASCII characters
- Replacing spaces with hyphens
- Removing special characters
- Collapsing multiple hyphens
- Trimming leading/trailing hyphens

**File Creation**:
- Without `--lang`: Creates single `index.md` file
- With `--lang`: Creates `index.LANG.md` for each language in the list

**UUID Generation**: Each file receives a unique UUID v7 (time-based). When creating multiple language files, each file gets its own distinct UUID to ensure independent note identities.

**Error Handling**:
- Errors if directory already exists (prevents overwriting)
- Errors if files already exist (prevents data loss)
- Validates that title is provided
- Checks template file accessibility

## EXIT STATUS

- **0** - Success (directory and file(s) created)
- **1** - Error (missing arguments, directory exists, or file creation failure)

## EXAMPLES

Create a simple note:
```bash
$ jig note "My Project Overview"
# Creates: my-project-overview/index.md
```

Create multi-language note:
```bash
$ jig note "Meeting Notes" -l "en,pl,de"
# Creates: meeting-notes/index.en.md
#          meeting-notes/index.pl.md
#          meeting-notes/index.de.md
# Each file has unique UUID
```

Use custom template:
```bash
$ jig note "Task List" -t templates/task.md
# Uses custom template with placeholder replacement
```

Example custom template:
```markdown
---
id: {{id}}
title: {{title}}
slug: {{slug}}
draft: false
links:
- "[Parent Note](/path?label=parent)"
---

# {{title}}

Created on: 2026-01-06
```

## USAGE

### Basic note creation
```bash
jig note "Quick Note"
jig-note "Quick Note"
```

### Multi-language notes
```bash
# Create note in multiple languages
jig note "Documentation" -l "en,fr,es"

# Language list can have spaces
jig note "Guide" -l "en, de, pl"
```

### Custom templates
```bash
# Use project-specific template
jig note "New Feature" -t ./templates/feature.md

# Template with full frontmatter
jig note "Article" -t ./templates/article-template.md
```

### Integration with other commands
```bash
# Create note, then visualize hierarchy
jig note "New Topic" -l "en,pl"
jig find . -p '\.md$' | jig filter | jig tree

# Batch creation (scripted)
while IFS= read -r title; do
  jig note "$title"
done < topics.txt
```

## FILES

**Template Files**: Custom templates are read from the path specified with `-t`. Templates can be in any text format but typically use markdown with YAML frontmatter.

**Output Files**:
- `<slug>/index.md` - Single file when no `--lang` provided
- `<slug>/index.<lang>.md` - Per-language files when `--lang` provided

**Template Location Examples**:
- `./templates/note.md` - Relative to current directory
- `~/.config/jig/templates/default.md` - User config directory
- `/usr/share/jig/templates/` - System-wide templates

## LIMITATIONS

- **Maximum languages**: 64 languages per command invocation
- **Maximum template size**: 10MB
- **Title required**: Command fails if TITLE is not provided
- **Directory must not exist**: Prevents accidental overwrites
- **File uniqueness**: Each output file must not already exist

## INVOCATION MODES

**jig-note** can be invoked in two ways:

1. **Subcommand mode**: `jig note <args>` - called as a subcommand of the main `jig` executable
2. **Standalone mode**: `jig-note <args>` - called as a standalone executable

Both modes provide identical functionality.
